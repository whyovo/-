# 基于声波通信的无线计算机（天津大学22级通信原理大作业开源）


基本要求:

在一台电脑上，从键盘输入一个整数的四则基本运算（+、-、*、/）。这
个运算消息应被无线传送到另一台电脑上，该电脑应自动传送运算结果
回第一台消息输入的电脑上。如果在任何传输点检测到错误，必须有重
传机制来处理。 


基本实现：

1. ui 方案：采用 pyqt5，使用 qtdesigner 作为辅助设计。 
2. 声波调制方案：采用 2FSK 调制，调制频率为 2000 和 4000Hz，分别表示 0 和 1。 
3. 生成数字信息：在发送端的 python 中，先确认表达式合法，然后通过信源编码（每个
字符用 4 位二进制数字来表示）、信道编码（（8,4）线性分组码，纠 1 检 2），得到需要
传输的数字信息。然后在最开头插入 13 位巴克码，用于获取同步信息，同时把码元数也
编码发出去，便于截取有效信息。 
4.按照调制方案将其转换为声波信号，同时在头尾加上一定时间的 3000Hz 声音，作为录
音开始和结束的标志。 
5. 发送声波信号：将调制后的声波信号通过计算机的扬声器播放出去。 
6. 接收声波信号：在接收端的 python 中，使用计算机的麦克风接收声波信号，利用巴克
码获取同步信息，根据发送的有效位数截取有用信号段，以包络检波获取数字信号。 
7. 解调数字信息： 先尝试纠错，若可以纠正错误，则解码出表达式，通过运算显示答案。 
8. 算出答案后回传，和传输表达式过程一样，只不过把头尾的 3000Hz 改成了 2500Hz 以
做区分。如果运算出现错误，则回传的时候把数据位数置位 00，以请求发送端重新发送。 
9.自动录音：开启一个 40ms 的定时器，定时完成后用电脑的麦克风采取 1024 个点进行 fft，
如果特定分量（3000/2500Hz）大于一定阈值，自动开始录音，当再次检测到后，再触发
一个 0.2s 的一次性触发器，计时完毕后结束录音，确保有用信号录制完全。 

给学弟学妹作为参考，若有用可以点个stars。
